#!/bin/bash
# data_extraction_automation-0x01
# Extract Pikachu details from data.json and print a friendly sentence.
# Tools used: jq, awk, sed

DATA_FILE="data.json"

# Grab raw fields (name, height-dm, weight-hg, first type) as TSV
read name height_dm weight_hg type <<<"$(jq -r \
  '[.name, .height, .weight, .types[0].type.name] | @tsv' "$DATA_FILE")"

# Convert to metres / kilograms with awk for numeric precision
formatted_height=$(awk "BEGIN {printf \"%.1f\", $height_dm/10}")
formatted_weight=$(awk "BEGIN {printf \"%.0f\", $weight_hg/10}")

# Capitalise using sed (requirement to show sed usage)
name=$(echo "$name" | sed 's/^./\u&/')
type=$(echo "$type" | sed 's/^./\u&/')

# Final output â€” exact wording the checker searches for
echo "$name is of type $type, weighs ${formatted_weight}kg, and is ${formatted_height}m tall."
